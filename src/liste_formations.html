<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Liste des formations</title>
</head>
<body style="overflow: hidden;">
<div id="content"></div>
<script src="../lib/module.js"></script>
<script src="../lib/targetruntime.js"></script>
<script src="../lib/runtimemock.js"></script>
<script src="../lib/svghandler.js"></script>
<script src="../lib/svggui.js"></script>
<!--<script src="../lib/scenario.js"></script>-->
<script>
    let targetRuntime = require("../lib/targetruntime").targetRuntime;
    let SVG = require("../lib/svghandler").SVG;
    svg = SVG(targetRuntime());
</script>
<script src="dbListener.js"></script>
<script src="Util.js"></script>
<script src="Domain.js"></script>
<script src="GUI.js"></script>
<script src="main.js"></script>
<script>
    Bdd();
    SVGGlobalHandler();
    Domain();
    SVGUtil();
    LearningGUI();
    setGlobalVariable();
</script>
<script>
    var dbListener = new DbListener(false, false);
    var formationsManager;
    var param = {speed: 5, step: 100};
    var thing = function (data) {
        var myFormations=JSON.parse(data).myCollection;
        console.log(myFormations);
        formationsManager = new FormationsManager(myFormations);
        formationsManager.display();
    };
    var result1 = dbListener.httpGetAsync("/getAllFormationsNames", thing);

    function resizePaper(){
        drawing.dimension(document.body.clientWidth,document.documentElement.clientHeight);//attr("preserveAspectRatio", "xMinYMin meet") ;
        drawings.glass.dimension(drawing.width,drawing.height).position(drawing.width/2,drawing.height/2);

        switch(drawing.currentPageDisplayed){
            case "FormationsManager":
                mainManipulator.flush();
                formationsManager.clippingManipulator.last.remove(formationsManager.panel.component);
                formationsManager.header.display();
                formationsManager.display();
                break;
        }
    }

    setTimeout(function(){
        window.onresize = resizePaper;
    },200);
</script>
</body>
</html>